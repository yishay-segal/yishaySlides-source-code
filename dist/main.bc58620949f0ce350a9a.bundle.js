!function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){},function(e,t,r){"use strict";r.r(t),r.d(t,"boxEngine",(function(){return K}));r(0);const i={humMenu:document.querySelector(".menu-hum"),sideNav:document.querySelector("#mySidenav"),header:document.querySelector("header"),headerInput:document.querySelector(".header__search-input"),searchLogo:document.querySelector(".header__search-box"),searchDiv:document.querySelector(".header__search"),appsDiv:document.querySelector(".header__side-box"),dropMenu:document.querySelector(".drop__menu"),accDiv:document.querySelector(".header__side-box2"),dropMenuAc:document.querySelector(".drop__account")},n={slidesEdit:document.querySelector(".slides__edit"),cutButton:document.querySelector(".pop__menu-cut"),slidesFilm:document.querySelector(".slides__film"),filmBigSvg:document.querySelector(".film-big-svg")},o={bigSvg:document.querySelector("#svg963"),editBox:document.querySelector(".box-edit"),textarea:document.querySelector(".para-edit"),bigBox:document.querySelector("#big-box"),svg:document.querySelector("#edit_box"),rightBottomCircle:document.querySelector("#circle1"),leftBottomCircle:document.querySelector("#circle2"),leftTopCircle:document.querySelector("#circle3"),rightTopCircle:document.querySelector("#circle4"),leftCenterCircle:document.querySelector("#circle5"),rightCenterCircle:document.querySelector("#circle6"),topCenterCircle:document.querySelector("#circle7"),bottomCenterCircle:document.querySelector("#circle8"),focusLineLeft:document.querySelector("#left-line"),focusLineTop:document.querySelector("#top-line"),focusLineBottom:document.querySelector("#bottom-line"),focusLineRight:document.querySelector("#right-line"),leftLineStart:document.querySelector("#left-line-start"),topLineStart:document.querySelector("#top-line-start"),bottomLineStart:document.querySelector("#bottom-line-start"),rightLineStart:document.querySelector("#right-line-start"),foreginContent:document.querySelector("#fro"),linesStartBox:document.querySelector("#lines-start-box")};document.querySelector("#edit_box2"),document.querySelector("#edit_box2 #circle1"),document.querySelector("#edit_box2 #circle2"),document.querySelector("#edit_box2 #circle3"),document.querySelector("#edit_box2 #circle4"),document.querySelector("#edit_box2 #circle5"),document.querySelector("#edit_box2 #circle6"),document.querySelector("#edit_box2 #circle7"),document.querySelector("#edit_box2 #circle8"),document.querySelector("#edit_box2 #left-line"),document.querySelector("#edit_box2 #top-line"),document.querySelector("#edit_box2 #bottom-line"),document.querySelector("#edit_box2 #right-line"),document.querySelector("#edit_box2 #left-line-start"),document.querySelector("#edit_box2 #top-line-start"),document.querySelector("#edit_box2 #bottom-line-start"),document.querySelector("#edit_box2 #right-line-start"),document.querySelector("#edit_box2 #fro"),document.querySelector("#edit_box2 #lines-start-box");class s{on(e,t){document.addEventListener(e,t)}render(){const e=function(){const e=Date.now().toString();return{boxOpening:`\n        <?xml version="1.0" encoding="UTF-8" standalone="no"?>\n        <svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#"\n            xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg"\n            xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none"\n            xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"\n            xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="100%" height="100%"\n            viewBox="0 0 333.37499 139.7" version="1.1" id="svg963" data-id="${e}"\n            inkscape:version="1.0 (4035a4fb49, 2020-05-01)" sodipodi:docname="drawing-3.svg">\n            <defs id="defs957" />\n            <sodipodi:namedview inkscape:pagecheckerboard="false" id="base" pagecolor="#f1f3f4"\n                bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0" inkscape:pageshadow="2"\n                inkscape:zoom="0.7" inkscape:cx="630" inkscape:cy="378.28571" inkscape:document-units="px"\n                inkscape:current-layer="layer1" inkscape:document-rotation="0" showgrid="false" units="px"\n                inkscape:window-width="1424" inkscape:window-height="1030" inkscape:window-x="385"\n                inkscape:window-y="97" inkscape:window-maximized="0" />\n            <metadata id="metadata960">\n                <rdf:RDF>\n                    <cc:Work rdf:about="">\n                        <dc:format>image/svg+xml</dc:format>\n                        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n                        <dc:title></dc:title>\n                    </cc:Work>\n                </rdf:RDF>\n            </metadata>\n            <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1">\n                <rect\n                    style="opacity:0.765;fill:#ffffff;fill-opacity:1;stroke:#dadce0;stroke-width:0.76681;stroke-miterlimit:2;stroke-dasharray:none"\n                    id="rect965" width="100%" height="100%" />\n\n                <svg class="box-cont" id="edit_box" x="-25" y="-10" viewBox="-150 -40 886 300" width="500px" height="180px" xmlns="http://www.w3.org/2000/svg">\n                \n                \n                        <g id="lines-start-box">\n                            <line id="left-line-start" x1="0" y1="6" x2="0" y2="125" class="start-lines"></line>\n                            <line id="top-line-start" x1="0" y1="6" x2="390" y2="6" class="start-lines"></line>\n                            <line id="bottom-line-start" x1="0" y1="125" x2="390" y2="125" class="start-lines" ></line>\n                            <line id="right-line-start" x1="390" y1="125" x2="390" y2="6" class="start-lines"></line>\n                        </g>\n                        \n                    <g id="elem-onFocus" class="dis-none">\n                        <line id="left-line" data-drag="true" style="cursor: move;" x1="0" y1="6" x2="0" y2="125" class="line-svg-r"></line>\n                        <line id="top-line" data-drag="true" style="cursor: move;" x1="0" y1="6" x2="390" y2="6" class="line-svg-r" style="cursor: n-resize"></line>\n                        <line id="bottom-line" data-drag="true" style="cursor: move;" x1="0" y1="125" x2="390" y2="125" class="line-svg-r" style="cursor: n-resize"></line>\n                        <line id="right-line" data-drag="true" style="cursor: move;" x1="390" y1="125" x2="390" y2="6" class="line-svg-r"></line>\n\n                        <circle id="circle1" cx="390" cy="125" r="5" stroke="black" stroke-width="0"\n                        fill="black" opacity="0.8" style="cursor: se-resize"></circle>\n\n                        <circle id="circle2" cx="0" cy="125" r="5" stroke="black" stroke-width="0"\n                            fill="black" opacity="0.8" style="cursor:ne-resize"></circle>\n\n                        <circle id="circle3" cx="0" cy="6" r="5" stroke="black" stroke-width="0"\n                            fill="black" opacity="0.8" style="cursor: nw-resize;"></circle>\n\n                        <circle id="circle4" cx="390" cy="6" r="5" stroke="black" stroke-width="0"\n                            fill="black" opacity="0.8" style="cursor:ne-resize"></circle>\n\n                        <circle id="circle5" cx="0"  r="5" stroke="black" stroke-width="0"\n                            fill="black" opacity="0.8" style="cursor: w-resize;"></circle>\n\n                        <circle id="circle6" cx="390"  r="5" stroke="black" stroke-width="0"\n                            fill="black" opacity="0.8" style="cursor: w-resize;"></circle>\n\n                        <circle id="circle7" cy="6"  r="5" stroke="black" stroke-width="0"\n                            fill="black" opacity="0.8" style="cursor: n-resize"></circle>\n\n                        <circle id="circle8" cy="125"  r="5" stroke="black" stroke-width="0"\n                            fill="black" opacity="0.8" style="cursor: n-resize"></circle>\n\n                        \n                    </g>\n                    \n                    <foreignobject id="fro" x="5" y="10" width="380" height="110">\n\n                        <body xmlns="http://www.w3.org/1999/xhtml">\n                            <div class="box-edit">\n                                <textarea placeholder="Add your title" spellcheck="false" name="text"\n                                    class="para-edit placeholder=" some text"></textarea>\n                            </div>\n                        </body>\n                    </foreignobject>\n\n                </svg>\n                <svg class="box-cont" id="edit_box2" x="-75" y="60" viewBox="-150 -120 886 300" width="500px" height="80px" xmlns="http://www.w3.org/2000/svg">\n                    \n                        <g id="lines-start-box">\n                            <line id="left-line-start" x1="0" y1="6" x2="0" y2="125" class="start-lines"></line>\n                            <line id="top-line-start" x1="0" y1="6" x2="600" y2="6" class="start-lines"></line>\n                            <line id="bottom-line-start" x1="0" y1="125" x2="600" y2="125" class="start-lines" ></line>\n                            <line id="right-line-start" x1="600" y1="125" x2="600" y2="6" class="start-lines"></line>\n                        </g>\n                        \n                    <g id="elem-onFocus" class="dis-none">\n                        <line id="left-line" data-drag="true" style="cursor: move;" x1="0" y1="6" x2="0" y2="125" class="line-svg-r"></line>\n                        <line id="top-line" data-drag="true" style="cursor: move;" x1="0" y1="6" x2="600" y2="6" class="line-svg-r" style="cursor: n-resize"></line>\n                        <line id="bottom-line" data-drag="true" style="cursor: move;" x1="0" y1="125" x2="600" y2="125" class="line-svg-r" style="cursor: n-resize"></line>\n                        <line id="right-line" data-drag="true" style="cursor: move;" x1="600" y1="125" x2="600" y2="6" class="line-svg-r"></line>\n\n                        <circle id="circle1" cx="390" cy="125" r="5" stroke="black" stroke-width="0"\n                        fill="black" opacity="0.8" style="cursor: se-resize"></circle>\n\n                        <circle id="circle2" cx="0" cy="125" r="5" stroke="black" stroke-width="0"\n                            fill="black" opacity="0.8" style="cursor:ne-resize"></circle>\n\n                        <circle id="circle3" cx="0" cy="6" r="5" stroke="black" stroke-width="0"\n                            fill="black" opacity="0.8" style="cursor: nw-resize;"></circle>\n\n                        <circle id="circle4" cx="390" cy="6" r="5" stroke="black" stroke-width="0"\n                            fill="black" opacity="0.8" style="cursor:ne-resize"></circle>\n\n                        <circle id="circle5" cx="0"  r="5" stroke="black" stroke-width="0"\n                            fill="black" opacity="0.8" style="cursor: w-resize;"></circle>\n\n                        <circle id="circle6" cx="390"  r="5" stroke="black" stroke-width="0"\n                            fill="black" opacity="0.8" style="cursor: w-resize;"></circle>\n\n                        <circle id="circle7" cy="6"  r="5" stroke="black" stroke-width="0"\n                            fill="black" opacity="0.8" style="cursor: n-resize"></circle>\n\n                        <circle id="circle8" cy="125"  r="5" stroke="black" stroke-width="0"\n                            fill="black" opacity="0.8" style="cursor: n-resize"></circle>\n\n                    </g>\n                    \n                    <foreignobject id="fro" x="5" y="10" width="590" height="110">\n\n                        <body xmlns="http://www.w3.org/1999/xhtml">\n                            <div class="box-edit">\n                                <textarea placeholder="Add your description" spellcheck="false" name="text"\n                                    class="para-edit"></textarea>\n                            </div>\n                        </body>\n                    </foreignobject>\n\n                </svg>\n                \n            </g>\n        </svg>\n`,id:e}}();return this.id=e.id,e.boxOpening}}let c,l,a,d,u,y;function b(e){const t=e.target.closest("svg");[...document.querySelectorAll("#elem-onFocus")].forEach(e=>{e.classList.add("dis-none")}),t.querySelector("#elem-onFocus").classList.remove("dis-none"),l=t}function x(e){e.querySelector("#circle3").setAttribute("cx",e.querySelector("#left-line").getAttribute("x1")),e.querySelector("#circle3").setAttribute("cy",e.querySelector("#left-line").getAttribute("y1")),e.querySelector("#circle5").setAttribute("cx",e.querySelector("#left-line").getAttribute("x1"));const t=(parseFloat(e.querySelector("#left-line").getAttribute("y2"))-parseFloat(e.querySelector("#left-line").getAttribute("y1")))/2;e.querySelector("#circle5").setAttribute("cy",""+(parseFloat(e.querySelector("#left-line").getAttribute("y2"))-t)),e.querySelector("#circle2").setAttribute("cx",e.querySelector("#left-line").getAttribute("x1")),e.querySelector("#circle2").setAttribute("cy",e.querySelector("#left-line").getAttribute("y2"));const r=(parseFloat(e.querySelector("#top-line").getAttribute("x2"))-parseFloat(e.querySelector("#top-line").getAttribute("x1")))/2;e.querySelector("#circle7").setAttribute("cx",""+(parseFloat(e.querySelector("#top-line").getAttribute("x2"))-r-5)),e.querySelector("#circle7").setAttribute("cy",e.querySelector("#top-line").getAttribute("y1")),e.querySelector("#circle4").setAttribute("cx",e.querySelector("#right-line").getAttribute("x1")),e.querySelector("#circle4").setAttribute("cy",e.querySelector("#right-line").getAttribute("y2"));const i=(parseFloat(e.querySelector("#right-line").getAttribute("y1"))-parseFloat(e.querySelector("#right-line").getAttribute("y2")))/2;e.querySelector("#circle6").setAttribute("cy",""+(parseFloat(e.querySelector("#right-line").getAttribute("y1"))-i)),e.querySelector("#circle6").setAttribute("cx",e.querySelector("#right-line").getAttribute("x1")),e.querySelector("#circle1").setAttribute("cx",e.querySelector("#right-line").getAttribute("x1")),e.querySelector("#circle1").setAttribute("cy",e.querySelector("#right-line").getAttribute("y1"));const n=(parseFloat(e.querySelector("#bottom-line").getAttribute("x2"))-parseFloat(e.querySelector("#bottom-line").getAttribute("x1")))/2;e.querySelector("#circle8").setAttribute("cx",""+(parseFloat(e.querySelector("#bottom-line").getAttribute("x2"))-n-5)),e.querySelector("#circle8").setAttribute("cy",e.querySelector("#bottom-line").getAttribute("y1"))}function m(e){if(e.target){const t=e.target;"circle"===t.tagName&&(a=t.id,d=e.type,l=t.closest("svg"),document.addEventListener("mousemove",p),l.querySelector("#virtul-lines").classList.remove("dis-none"))}}function g(e){if(d){if("mousemove"===d){const t=l.querySelector("#virtul-lines");p(e),x(l),l.querySelector("textarea").style.userSelect="auto",t.classList.add("dis-none"),I(c)}d=e.type,document.removeEventListener("mousemove",p),M(l),console.log("end event")}}function p(e){console.log("start testing");e.target;const t=l;d=e.type,t.querySelector("textarea").style.userSelect="none";const r=t.createSVGPoint();r.x=e.pageX,r.y=e.pageY;const i=r.matrixTransform(t.getScreenCTM().inverse());if("mousemove"===e.type){t.classList.remove("dis-none");const e=_(t);f(i,e.bottomLine,e.topLine,e.leftLine,e.rightLine)}else if("mouseup"===e.type){console.log(l),t.querySelector("textarea").style.userSelect="auto";f(i,l.querySelector("#bottom-line"),l.querySelector("#top-line"),l.querySelector("#left-line"),l.querySelector("#right-line"));const e=$(l);console.log("resize lines"),f(i,e.bottomLine,e.topLine,e.leftLine,e.rightLine),h(l),x(l)}}function f(e,t,r,i,n){"circle5"===a?(t.setAttribute("x1",""+e.x),r.setAttribute("x1",""+e.x),i.setAttribute("x1",""+e.x),i.setAttribute("x2",""+e.x)):"circle6"===a?(t.setAttribute("x2",""+e.x),r.setAttribute("x2",""+e.x),n.setAttribute("x1",""+e.x),n.setAttribute("x2",""+e.x)):"circle7"===a?(i.setAttribute("y1",""+e.y),n.setAttribute("y2",""+e.y),r.setAttribute("y1",""+e.y),r.setAttribute("y2",""+e.y)):"circle8"===a?(i.setAttribute("y2",""+e.y),n.setAttribute("y1",""+e.y),t.setAttribute("y1",""+e.y),t.setAttribute("y2",""+e.y)):"circle3"===a?(n.setAttribute("y2",""+e.y),t.setAttribute("x1",""+e.x),i.setAttribute("x1",""+e.x),i.setAttribute("x2",""+e.x),i.setAttribute("y1",""+e.y),r.setAttribute("y1",""+e.y),r.setAttribute("y2",""+e.y),r.setAttribute("x1",""+e.x)):"circle2"===a?(r.setAttribute("x1",""+e.x),n.setAttribute("y1",""+e.y),i.setAttribute("x1",""+e.x),i.setAttribute("x2",""+e.x),i.setAttribute("y2",""+e.y),t.setAttribute("y1",""+e.y),t.setAttribute("y2",""+e.y),t.setAttribute("x1",""+e.x)):"circle4"===a?(i.setAttribute("y1",""+e.y),t.setAttribute("x2",""+e.x),n.setAttribute("x1",""+e.x),n.setAttribute("x2",""+e.x),n.setAttribute("y2",""+e.y),r.setAttribute("y1",""+e.y),r.setAttribute("y2",""+e.y),r.setAttribute("x2",""+e.x)):"circle1"===a&&(i.setAttribute("y2",""+e.y),r.setAttribute("x2",""+e.x),n.setAttribute("x1",""+e.x),n.setAttribute("x2",""+e.x),n.setAttribute("y1",""+e.y),t.setAttribute("y1",""+e.y),t.setAttribute("y2",""+e.y),t.setAttribute("x2",""+e.x))}function h(e){const t=parseFloat(e.querySelector("#top-line").getAttribute("x2"))-parseFloat(e.querySelector("#top-line").getAttribute("x1"));e.querySelector("#fro").setAttribute("width",""+(t-10));const r=parseFloat(e.querySelector("#left-line").getAttribute("y2"))-parseFloat(e.querySelector("#left-line").getAttribute("y1"));e.querySelector("#fro").setAttribute("height",""+(r-10)),e.querySelector("#fro").setAttribute("x",""+(parseFloat(e.querySelector("#top-line").getAttribute("x1"))+5)),e.querySelector("#fro").setAttribute("y",""+(parseFloat(e.querySelector("#top-line").getAttribute("y1"))+5))}let S,v={x:0,y:0};function A(e){const t=e.target;if(t.dataset.drag){console.log("start dragging"),l=t.closest("svg"),u=t;l.querySelector("#virtul-lines").classList.remove("dis-none"),y=E(e),y.x-=parseFloat(l.getAttribute("x")),y.y-=parseFloat(l.getAttribute("y")),document.addEventListener("mousemove",q),S="mousedown"}}let w={};function q(e){if(u){console.log("drag"),e.preventDefault();const t=E(e),r=t.x-y.x,i=t.y-y.y,n=_(l);!function(e,t,r,i){const{bottomLine:n,rightLine:o,leftLine:s,topLine:c}=i,l=e-parseFloat(r.getAttribute("x")),a=t-parseFloat(r.getAttribute("y"));console.log(`move ${l} to x, and move ${a} to y`),o.setAttribute("x1",""+(l+parseFloat(r.querySelector("#right-line").getAttribute("x1")))),o.setAttribute("y1",""+(parseFloat(r.querySelector("#right-line").getAttribute("y2"))+a)),o.setAttribute("x2",""+(l+parseFloat(r.querySelector("#right-line").getAttribute("x1")))),o.setAttribute("y2",""+(parseFloat(r.querySelector("#right-line").getAttribute("y1"))+a)),s.setAttribute("x1",""+(l+parseFloat(r.querySelector("#left-line").getAttribute("x1")))),s.setAttribute("y1",""+(parseFloat(r.querySelector("#left-line").getAttribute("y1"))+a)),s.setAttribute("x2",""+(l+parseFloat(r.querySelector("#left-line").getAttribute("x1")))),s.setAttribute("y2",""+(parseFloat(r.querySelector("#left-line").getAttribute("y2"))+a)),c.setAttribute("x1",""+(parseFloat(r.querySelector("#top-line").getAttribute("x1"))+l)),c.setAttribute("y1",""+(parseFloat(r.querySelector("#top-line").getAttribute("y1"))+a)),c.setAttribute("x2",""+(parseFloat(r.querySelector("#top-line").getAttribute("x2"))+l)),c.setAttribute("y2",""+(parseFloat(r.querySelector("#top-line").getAttribute("y1"))+a)),n.setAttribute("x1",""+(parseFloat(r.querySelector("#bottom-line").getAttribute("x1"))+l)),n.setAttribute("y1",""+(parseFloat(r.querySelector("#bottom-line").getAttribute("y1"))+a)),n.setAttribute("x2",""+(parseFloat(r.querySelector("#bottom-line").getAttribute("x2"))+l)),n.setAttribute("y2",""+(parseFloat(r.querySelector("#bottom-line").getAttribute("y1"))+a)),T={rightLine:o,leftLine:s,topLine:c,bottomLine:n}}(r,i,l,n),S="mousemove",v.x=r,v.y=i,w=n}}function k(e){if("mousemove"===S){l.querySelector("#virtul-lines").classList.add("dis-none"),document.removeEventListener("mousemove",q),u=null;const e={bottomLine:(t=l).querySelector("#bottom-line"),topLine:t.querySelector("#top-line"),rightLine:t.querySelector("#right-line"),leftLine:t.querySelector("#left-line")},r=$(l);S="mouseup",L(e),L(r),x(l),h(l),M(l),I(c),console.log("end drag")}var t}function L(e){const{bottomLine:t,topLine:r,rightLine:i,leftLine:n}=e,o=T;t.setAttribute("x1",o.bottomLine.getAttribute("x1")),t.setAttribute("x2",o.bottomLine.getAttribute("x2")),t.setAttribute("y1",o.bottomLine.getAttribute("y1")),t.setAttribute("y2",o.bottomLine.getAttribute("y2")),r.setAttribute("x1",o.topLine.getAttribute("x1")),r.setAttribute("x2",o.topLine.getAttribute("x2")),r.setAttribute("y1",o.topLine.getAttribute("y1")),r.setAttribute("y2",o.topLine.getAttribute("y2")),i.setAttribute("x1",o.rightLine.getAttribute("x1")),i.setAttribute("x2",o.rightLine.getAttribute("x2")),i.setAttribute("y2",o.rightLine.getAttribute("y1")),i.setAttribute("y1",o.rightLine.getAttribute("y2")),n.setAttribute("x1",o.leftLine.getAttribute("x1")),n.setAttribute("x2",o.leftLine.getAttribute("x2")),n.setAttribute("y1",o.leftLine.getAttribute("y1")),n.setAttribute("y2",o.leftLine.getAttribute("y2"))}function _(e){return{bottomLine:e.querySelector("#line-bottom-r"),topLine:e.querySelector("#line-top-r"),leftLine:e.querySelector("#line-left-r"),rightLine:e.querySelector("#line-right-r")}}function E(e){const t=l.getScreenCTM();return{x:(e.clientX-t.e)/t.a,y:(e.clientY-t.f)/t.d}}let F,z,B,j,D,C,T={bottomLine:o.bottomLineStart,topLine:o.topLineStart,leftLine:o.leftLineStart,rightLine:o.rightLineStart};function M(e){e.querySelector("#virtul-lines")&&e.querySelector("#virtul-lines").remove();const t=e.querySelector("#circle1"),r=e.querySelector("#circle2"),i=e.querySelector("#circle3"),n=e.querySelector("#circle4"),o=document.createElementNS("http://www.w3.org/2000/svg","g"),s=O(t,r,"line-bottom-r"),c=O(r,i,"line-left-r"),l=O(i,n,"line-top-r"),a=O(n,t,"line-right-r");o.setAttribute("id","virtul-lines"),o.classList.add("dis-none"),o.append(s),o.append(c),o.append(l),o.append(a),e.append(o)}function O(e,t,r){const i=document.createElementNS("http://www.w3.org/2000/svg","line");return"line-top-r"===r?(i.setAttribute("x1",""+e.getAttribute("cx")),i.setAttribute("x2",""+t.getAttribute("cx")),i.setAttribute("y1",""+t.getAttribute("cy")),i.setAttribute("y2",""+e.getAttribute("cy")),i.setAttribute("id",r),i.classList.add("line-svg-n"),i):(i.setAttribute("x1",""+t.getAttribute("cx")),i.setAttribute("x2",""+e.getAttribute("cx")),i.setAttribute("y1",""+t.getAttribute("cy")),i.setAttribute("y2",""+e.getAttribute("cy")),i.classList.add("line-svg-n"),i.setAttribute("id",r),i)}function $(e){return{bottomLine:e.querySelector("#bottom-line-start"),topLine:e.querySelector("#top-line-start"),rightLine:e.querySelector("#right-line-start"),leftLine:e.querySelector("#left-line-start")}}function I(e){c=e,F.querySelector(`[data-id="${e}"]`)&&F.querySelector(`[data-id="${e}"]`).remove();const t=F.querySelector("#box-film"),r=document.querySelector(".slides__edit").querySelector(`[data-id="${e}"]`).cloneNode(!0);r.style.userSelect="none",r.classList.remove("dis-none");r.querySelector("#edit_box").setAttribute("id","side-box-show");r.querySelector("#edit_box2").setAttribute("id","side-box-show2"),r.setAttribute("x","-10"),r.setAttribute("width","115%"),t.append(r),[...r.querySelectorAll("#elem-onFocus")].forEach(e=>{e.remove()}),[...r.querySelectorAll(".para-edit")].forEach(e=>{const t=e.value,r=document.createElement("p");r.textContent=t,r.classList.add("text-film"),e.replaceWith(r)}),[...r.querySelectorAll(".box-cont")].forEach(e=>{e.classList.remove("box-cont")}),t.append(r)}function P(e){const t=[...document.querySelectorAll(".box-film-cont")],r=t[t.length-2],i=t[t.length-1],n=i.querySelector("#box-film"),o=document.querySelector(".slides__edit").querySelector(`[data-id="${e}"]`).cloneNode(!0);if([...document.querySelector(".slides__film").querySelectorAll(".film-side-cont-background")].forEach(e=>{e.classList.remove("y-b")}),i.querySelector(".film-side-cont-background").classList.add("y-b"),r){i.setAttribute("data-height",""+(z+104));r.querySelector("#svg963").classList.remove("dis-none"),z+=104}else i.setAttribute("data-height","2"),i.setAttribute("id",""+e),z=2;o.querySelector("#edit_box").setAttribute("id","side-box-show");o.querySelector("#edit_box2").setAttribute("id","side-box-show2"),o.setAttribute("x","-10"),o.setAttribute("width","115%"),o.classList.remove("dis-none"),n.append(o),[...o.querySelectorAll("#elem-onFocus")].forEach(e=>{e.remove()}),[...o.querySelectorAll(".para-edit")].forEach(e=>{const t=e.value,r=document.createElement("p");r.textContent=t,r.classList.add("text-film"),e.replaceWith(r)}),[...o.querySelectorAll(".box-cont")].forEach(e=>{e.classList.remove("box-cont")}),F=i,c=e}function N(e,t,r){const i=r.target;t.contains(i)||(e.classList.toggle("click"),t.classList.toggle("dis-menu"))}function R(){const e=document.querySelector(".slides__edit");console.log(e),e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen();const t=[...e.querySelectorAll("#svg963")],r=t.find(e=>!e.classList.contains("dis-none"));D=r;const i=[];t.forEach(e=>{i.push(e.cloneNode(!0)),e.classList.add("dis-none")}),i.reverse(),i.forEach(e=>{var t;(t=e).setAttribute("class","present-cont"),t.querySelector("#edit_box").setAttribute("id","present-box"),t.querySelector("#edit_box2").setAttribute("id","present-box2"),[...t.querySelectorAll("#elem-onFocus")].forEach(e=>{e.remove()}),[...t.querySelectorAll("#lines-start-box")].forEach(e=>{e.remove()}),[...t.querySelectorAll(".para-edit")].forEach(e=>{const t=e.value,r=document.createElement("p");r.textContent=t,r.classList.add("text-film"),e.replaceWith(r)}),[...t.querySelectorAll(".box-cont")].forEach(e=>{e.classList.remove("box-cont")})});const n=i[0];n.setAttribute("data-show","true"),e.append(n),B=t,j=i}function W(e){const t=document.querySelector(".slides__edit"),r=e.target,i=document.querySelector('[data-show="true"]'),n=j.indexOf(i);if(console.log(r.parentElement),"arrow-left"===r.className){let e;i.removeAttribute("data-show"),i.classList.add("dis-none"),e=j[n-1],n||(e=j[j.length-1]),e.classList.remove("dis-none"),e.setAttribute("data-show","true"),t.append(e)}else if("arrow-right"===r.className){let e;i.removeAttribute("data-show"),i.classList.add("dis-none"),e=j[n+1],console.log(j.length),console.log(n),n===j.length-1&&(e=j[0],console.log(e)),e.classList.remove("dis-none"),e.setAttribute("data-show","true"),t.append(e)}else"color-icon"===r.parentElement.className?j.forEach(e=>{e.classList.toggle("dark-mode"),e.querySelector("#rect965").classList.toggle("fill-dark")}):document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}class H{render(e){return e?U(e):U()}}function U(e){const t=Date.now().toString(),r=[...document.querySelectorAll(".box-film-cont")],i=r[r.length-1];let o=1,s="0";i&&(o=parseInt(i.dataset.height)+104,s=i.querySelector(".film-num").textContent,n.filmBigSvg.setAttribute("height",""+(parseInt(n.filmBigSvg.getAttribute("height"))+105)));const c=`\n        <g id="${void 0!==e?e.id:t}" class="box-film-cont" transform="translate(0 ${o})">\n        <rect class="film-side-cont-background" x="-4" y="0" width="205"\n            height="100" rx="4" ry="4"></rect>\n        <rect class="box-film" x="43" y="6" width="152" height="88" rx="4" ry="4"></rect>\n        <text class="film-num" text-anchor="end" x="31" y="16">${parseInt(s)+1}</text>\n        <g transform="translate(45 8)">\n            <title></title><svg xmlns="http://www.w3.org/2000/svg"\n                xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" fill-rule="evenodd"\n                fill="none" stroke="none" stroke-linecap="square" stroke-miterlimit="10"\n                overflow="hidden" preserveAspectRatio="none" width="148px" height="84px"\n                style="line-height: normal;">\n                <rect fill="#ffffff" fill-opacity="0" width="100%" height="100%"></rect>\n                <g transform="translate(0 0) scale(1)">\n                    <defs cursor="default"></defs>\n                    <g id="filmstrip-slide-0-p">\n                        \n                        <g id="box-film">\n                            \n                        </g>\n                        \n                    </g>\n                </g>\n            </svg>\n        </g>\n        <rect stroke-width="2" class="punch-filmstrip-thumbnail-border-inner" x="44" y="7"\n            width="150" height="86" rx="4" ry="4"></rect>\n        <rect x="45" y="8" width="148" height="84" class=""></rect>\n        <clipPath id="punch-filmstrip-thumbnail-collaborator-clip-path">\n            <rect x="43" y="6" width="152" height="88"></rect>\n        </clipPath>\n        </g>\n        `;if(e)return{sideFile:c,box:e.svg,id:e.id};return{sideFile:c,box:`\n            <?xml version="1.0" encoding="UTF-8" standalone="no"?>\n            <svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#"\n                xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg"\n                xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none"\n                xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"\n                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="100%" height="100%"\n                viewBox="0 0 333.37499 139.7" version="1.1" id="svg963" data-id="${t}"\n                inkscape:version="1.0 (4035a4fb49, 2020-05-01)" sodipodi:docname="drawing-3.svg">\n                <defs id="defs957" />\n                <sodipodi:namedview inkscape:pagecheckerboard="false" id="base" pagecolor="#f1f3f4"\n                    bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0" inkscape:pageshadow="2"\n                    inkscape:zoom="0.7" inkscape:cx="630" inkscape:cy="378.28571" inkscape:document-units="px"\n                    inkscape:current-layer="layer1" inkscape:document-rotation="0" showgrid="false" units="px"\n                    inkscape:window-width="1424" inkscape:window-height="1030" inkscape:window-x="385"\n                    inkscape:window-y="97" inkscape:window-maximized="0" />\n                <metadata id="metadata960">\n                    <rdf:RDF>\n                        <cc:Work rdf:about="">\n                            <dc:format>image/svg+xml</dc:format>\n                            <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n                            <dc:title></dc:title>\n                        </cc:Work>\n                    </rdf:RDF>\n                </metadata>\n                <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1">\n                    <rect\n                        style="opacity:0.765;fill:#ffffff;fill-opacity:1;stroke:#dadce0;stroke-width:0.76681;stroke-miterlimit:2;stroke-dasharray:none"\n                        id="rect965" width="100%" height="100%" />\n            \n                    <svg class="box-cont" id="edit_box" x="-25" y="-10" viewBox="-150 -40 886 300" width="500px" height="180px" xmlns="http://www.w3.org/2000/svg">\n                    \n                    \n                        <g id="lines-start-box">\n                            <line id="left-line-start" x1="-80.57830810546875" y1="-23.258653233808417" x2="-80.57830810546875" y2="20.599870681762695" class="start-lines"></line>\n                            <line id="top-line-start" x1="-80.57830810546875" y1="-23.258653233808417" x2="465.1890869140625" y2="-23.258653233808417" class="start-lines"></line>\n                            <line id="bottom-line-start" x1="-80.57830810546875" y1="20.599870681762695" x2="465.1890869140625" y2="20.599870681762695" class="start-lines"></line>\n                            <line id="right-line-start" x1="465.1890869140625" y1="20.599870681762695" x2="465.1890869140625" y2="-23.258653233808417" class="start-lines"></line>\n                        </g>\n                            \n                        <g id="elem-onFocus" class="dis-none">\n                            <line id="left-line" data-drag="true" style="cursor: move;" x1="-80.57830810546875" y1="-23.258653233808417" x2="-80.57830810546875" y2="20.599870681762695" class="line-svg-r"></line>\n                            <line id="top-line" data-drag="true" style="cursor: move;" x1="-80.57830810546875" y1="-23.258653233808417" x2="465.1890869140625" y2="-23.258653233808417" class="line-svg-r" style="cursor: n-resize"></line>\n                            <line id="bottom-line" data-drag="true" style="cursor: move;" x1="-80.57830810546875" y1="20.599870681762695" x2="465.1890869140625" y2="20.599870681762695" class="line-svg-r" style="cursor: n-resize"></line>\n                            <line id="right-line" data-drag="true" style="cursor: move;" x1="465.1890869140625" y1="20.599870681762695" x2="465.1890869140625" y2="-23.258653233808417" class="line-svg-r"></line>\n            \n                            <circle id="circle1" cx="390" cy="125" r="5" stroke="black" stroke-width="0"\n                            fill="black" opacity="0.8" style="cursor: se-resize"></circle>\n            \n                            <circle id="circle2" cx="0" cy="125" r="5" stroke="black" stroke-width="0"\n                                fill="black" opacity="0.8" style="cursor:ne-resize"></circle>\n            \n                            <circle id="circle3" cx="0" cy="6" r="5" stroke="black" stroke-width="0"\n                                fill="black" opacity="0.8" style="cursor: nw-resize;"></circle>\n            \n                            <circle id="circle4" cx="390" cy="6" r="5" stroke="black" stroke-width="0"\n                                fill="black" opacity="0.8" style="cursor:ne-resize"></circle>\n            \n                            <circle id="circle5" cx="0"  r="5" stroke="black" stroke-width="0"\n                                fill="black" opacity="0.8" style="cursor: w-resize;"></circle>\n            \n                            <circle id="circle6" cx="390"  r="5" stroke="black" stroke-width="0"\n                                fill="black" opacity="0.8" style="cursor: w-resize;"></circle>\n            \n                            <circle id="circle7" cy="6"  r="5" stroke="black" stroke-width="0"\n                                fill="black" opacity="0.8" style="cursor: n-resize"></circle>\n            \n                            <circle id="circle8" cy="125"  r="5" stroke="black" stroke-width="0"\n                                fill="black" opacity="0.8" style="cursor: n-resize"></circle>\n            \n                            \n                        </g>\n                        \n                        <foreignobject id="fro" x="-66" y="-18" width="515" height="45">\n            \n                            <body xmlns="http://www.w3.org/1999/xhtml">\n                                <div class="box-edit">\n                                    <textarea placeholder="Add your title" spellcheck="false" name="text"\n                                        class="para-edit placeholder=" some text"></textarea>\n                                </div>\n                            </body>\n                        </foreignobject>\n            \n                    </svg>\n                    <svg class="box-cont" id="edit_box2" x="-60" y="35" viewBox="-150 -120 886 363" width="500px" height="120px" xmlns="http://www.w3.org/2000/svg">\n                        \n                        <g id="lines-start-box">\n                            <line id="left-line-start" x1="-231.86685180664062" y1="-114.48681419657112" x2="-231.86685180664062" y2="183.86367797851562" class="start-lines"></line>\n                            <line id="top-line-start" x1="-231.86685180664062" y1="-114.48681419657112" x2="686.8228759765625" y2="-114.48681419657112" class="start-lines"></line>\n                            <line id="bottom-line-start" x1="-231.86685180664062" y1="183.86367797851562" x2="686.8228759765625" y2="183.86367797851562" class="start-lines"></line>\n                            <line id="right-line-start" x1="686.8228759765625" y1="183.86367797851562" x2="686.8228759765625" y2="-114.48681419657112" class="start-lines"></line>\n                        </g>\n                            \n                        <g id="elem-onFocus" class="dis-none">\n                            <line id="left-line" data-drag="true" style="cursor: move;" x1="-231.86685180664062" y1="-114.48681419657112" x2="-231.86685180664062" y2="183.86367797851562" class="line-svg-r"></line>\n                            <line id="top-line" data-drag="true" style="cursor: move;"x1="-231.86685180664062" y1="-114.48681419657112" x2="686.8228759765625" y2="-114.48681419657112" class="line-svg-r" style="cursor: n-resize"></line>\n                            <line id="bottom-line" data-drag="true" style="cursor: move;" x1="-231.86685180664062" y1="183.86367797851562" x2="686.8228759765625" y2="183.86367797851562" class="line-svg-r" style="cursor: n-resize"></line>\n                            <line id="right-line" data-drag="true" style="cursor: move;" x1="686.8228759765625" y1="183.86367797851562" x2="686.8228759765625" y2="-114.48681419657112" class="line-svg-r"></line>\n            \n                            <circle id="circle1" cx="390" cy="125" r="5" stroke="black" stroke-width="0"\n                            fill="black" opacity="0.8" style="cursor: se-resize"></circle>\n            \n                            <circle id="circle2" cx="0" cy="125" r="5" stroke="black" stroke-width="0"\n                                fill="black" opacity="0.8" style="cursor:ne-resize"></circle>\n            \n                            <circle id="circle3" cx="0" cy="6" r="5" stroke="black" stroke-width="0"\n                                fill="black" opacity="0.8" style="cursor: nw-resize;"></circle>\n            \n                            <circle id="circle4" cx="390" cy="6" r="5" stroke="black" stroke-width="0"\n                                fill="black" opacity="0.8" style="cursor:ne-resize"></circle>\n            \n                            <circle id="circle5" cx="0"  r="5" stroke="black" stroke-width="0"\n                                fill="black" opacity="0.8" style="cursor: w-resize;"></circle>\n            \n                            <circle id="circle6" cx="390"  r="5" stroke="black" stroke-width="0"\n                                fill="black" opacity="0.8" style="cursor: w-resize;"></circle>\n            \n                            <circle id="circle7" cy="6"  r="5" stroke="black" stroke-width="0"\n                                fill="black" opacity="0.8" style="cursor: n-resize"></circle>\n            \n                            <circle id="circle8" cy="125"  r="5" stroke="black" stroke-width="0"\n                                fill="black" opacity="0.8" style="cursor: n-resize"></circle>\n            \n                        </g>\n                        \n                        <foreignobject id="fro" x="-211" y="-80" width="954" height="283">\n            \n                            <body xmlns="http://www.w3.org/1999/xhtml">\n                                <div class="box-edit">\n                                    <textarea placeholder="Add your description" spellcheck="false" name="text"\n                                        class="para-edit"></textarea>\n                                </div>\n                            </body>\n                        </foreignobject>\n            \n                    </svg>\n                    \n                </g>\n            </svg>\n    `,id:t}}var X=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function c(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,c)}l((i=i.apply(e,t||[])).next())}))};class Y{constructor(e){this.db,this.hash=e}init(){return console.log("init"),new Promise((e,t)=>{const r=()=>new Promise((e,t)=>{const r=indexedDB.open("store",1);r.onupgradeneeded=t=>{console.log(t.oldVersion);const i=r.result;i.objectStoreNames.contains("slides")||i.createObjectStore("slides",{keyPath:"id"}),e(i)},r.onsuccess=()=>{e(r.result)},r.onblocked=t});(()=>{X(this,void 0,void 0,(function*(){const e=yield r();this.db=e}))})();e(r())})}addObject(e){const t=this.db.transaction("slides","readwrite").objectStore("slides");console.log("slides"),console.log(e);new Promise((r,i)=>{const n=t.put(e);n.onsuccess=()=>{r(n.result)},n.onerror=()=>{i(n.error)}}).then(e=>{console.log(e)})}deleteItem(e){this.db.transaction("slides","readwrite").objectStore("slides").delete(e)}readStorage(e){return new Promise(t=>{const r=this.db.transaction("slides","readwrite").objectStore("slides").get(e);r.onsuccess=()=>{t(this.items=r.result)}})}}class V{constructor(e){this.items=[],e&&this.items.push(e)}addSlide(e){const t={id:e,children:[]};return this.items.push(t),this.id=e,t}addItem(e){const t=e.closest("[data-id]"),r=t.querySelector("#edit_box textarea").value,i=t.querySelector("#edit_box2 textarea").value,n={svg:t.outerHTML,id:t.dataset.id,text:{editBoxText:r,editBoxText2:i}},o=this.items.find(e=>e.id==this.id);return o.children.forEach((e,t)=>{console.log(e),e.id===n.id&&(console.log(o.children),console.log("match"),o.children.splice(t,1),console.log(t))}),o.children.push(n),o}deleteItem(e){const t=this.items.find(e=>e.id==this.id),r=t.children.findIndex(t=>t.id==e);return t.children.splice(r,1),t}}var G=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function c(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,c)}l((i=i.apply(e,t||[])).next())}))};const J={};window.addEventListener("hashchange",()=>{console.log(window.location.hash)}),i.humMenu&&(i.humMenu.addEventListener("click",(function(){i.sideNav.classList.add("display")})),window.addEventListener("click",(function(e){if(e.target){const t=e.target;t.closest("#mySidenav")||t.closest(".menu-hum")||i.sideNav.classList.remove("display"),t.closest(".header__side-box")||t.closest(".drop__menu")||(i.appsDiv.classList.remove("click"),i.dropMenu.classList.remove("dis-menu")),t.closest(".header__side-box2")||t.closest(".drop__account")||(i.accDiv.classList.remove("click"),i.dropMenuAc.classList.remove("dis-menu"))}})),i.headerInput.addEventListener("focus",(function(){i.searchDiv.classList.add("focus")})),i.headerInput.addEventListener("blur",(function(){i.searchDiv.classList.remove("focus")})),i.appsDiv.addEventListener("click",e=>{N(i.appsDiv,i.dropMenu,e)}),i.accDiv.addEventListener("click",e=>{N(i.accDiv,i.dropMenuAc,e)}),G(void 0,void 0,void 0,(function*(){const e=(yield new Promise(e=>{const t=indexedDB.open("store");t.onsuccess=()=>{e(t.result)}})).transaction("slides","readwrite").objectStore("slides");if(yield new Promise(t=>{const r=e.count();r.onsuccess=()=>{t(r.result)}})){const t=()=>new Promise(t=>{const r=e.getAll();r.onsuccess=()=>{t(r.result)}});(yield t()).forEach(e=>{(e=>{const t=`\n        <div class="save__slides-box">\n            <a href="./slides.html#${e}">\n                <div class="box-background">\n\n                </div>\n\n                <div class="box-data">\n                    <p>Untitled presention</p>\n                    <div class="box-data-details">\n                        <div class="data-icon">\n                            <img src="https://img.icons8.com/color/48/000000/google-slides.png" alt="">\n                        </div>\n                    </div>\n                    <div class="box-data-timeCont">\n                        <span class="box-data-status">Opened</span>\n                        <span class="box-data-time">7 Oct 2020</span>\n                    </div>\n                </div>\n            </a>\n        </div>\n    `;document.querySelector(".save__slides-boxCont").insertAdjacentHTML("beforeend",t)})(e.id)})}})));const K=new class{constructor(){this.newBox=new s,this.addbox=new H}setEvents(){[...document.querySelectorAll(".para-edit")].forEach(e=>{e.addEventListener("focus",b)}),Array.from(document.querySelectorAll("line[data-drag]")).forEach(e=>{e.addEventListener("mousedown",A),document.addEventListener("mouseup",k)}),[...document.querySelectorAll(".box-cont")].forEach(e=>{x(e),M(e),h(e)}),[...document.querySelectorAll("circle")].forEach(e=>{e.addEventListener("mouseup",g)}),this.newBox.on("mousedown",m)}addNewBox(e){const t=document.querySelector(`[data-id="${this.id}"]`);t&&t.classList.add("dis-none");const r=this.addbox.render(e),i=document.querySelector(".film-big-svg");if(n.slidesEdit.insertAdjacentHTML("afterbegin",r.box),i.insertAdjacentHTML("beforeend",r.sideFile),this.id=r.id,e){const t=n.slidesEdit.querySelector(`[data-id="${this.id}"]`);t.querySelector("#edit_box textarea").value=e.text.editBoxText,t.querySelector("#edit_box2 textarea").value=e.text.editBoxText2}P(this.id)}delateBox(){const e=C;return function(e){const t=[...document.querySelectorAll(".box-film-cont")],r=[...n.slidesEdit.querySelectorAll("[data-id]")],i=t.indexOf(e);if(e===F){const e=i-1,n=t[e],o=r[e];n&&(n.querySelector(".film-side-cont-background").classList.add("y-b"),F=n,c=n.id,o.classList.remove("dis-none"))}if(t.length>i){const e=t.slice(i+1);n.filmBigSvg.setAttribute("height",""+(parseInt(n.filmBigSvg.getAttribute("height"))-105)),z-=104,e.forEach(e=>{const t=parseInt(e.dataset.height)-104;e.setAttribute("transform",`translate(0 ${t})`),e.setAttribute("data-height",""+t),e.querySelector(".film-num").textContent=""+(parseInt(e.querySelector(".film-num").textContent)-1)})}n.slidesEdit.querySelector(`[data-id="${e.id}"]`).remove(),e.remove()}(e),e}render(){const e=this.newBox.render();n.slidesEdit.insertAdjacentHTML("afterbegin",e),this.id=this.newBox.id}};if(document.querySelector(".slides")){let e,t=window.location.hash.replace("#",""),r=!1;t||(t=Date.now().toString(),window.location.hash=t,r=!0,console.log(t)),document.addEventListener("click",e=>{e.target.closest(".box__start")&&console.log("work")}),G(void 0,void 0,void 0,(function*(){console.log(t),J.dataBase=new Y(t),yield J.dataBase.init(),yield J.dataBase.readStorage(t),console.log(J.dataBase.items),J.slides=new V(J.dataBase.items);const e=J.slides.addSlide(t);if(t||J.dataBase.addObject(e),console.log("sdfjsdkfjsf"),console.log(J.dataBase.items),!r&&J.dataBase.items.children){const e=[...document.querySelectorAll(".box-film-cont")][0],t=e.id;e.remove(),n.slidesEdit.querySelector(`[data-id="${t}"]`).remove(),J.dataBase.items.children.forEach(e=>{K.addNewBox(e),K.setEvents()})}})),K.render(),K.setEvents(),P(K.id),document.querySelector(".plus-icon").addEventListener("click",()=>{K.addNewBox(),K.setEvents()}),document.addEventListener("click",t=>{if(l){const r=t.target;if(l.contains(r))e&&function(e){e&&e.querySelector("textarea").value&&(e.querySelector("#lines-start-box").classList.add("dis-none"),l.querySelector("textarea").style.background="none")}(e);else{[...document.querySelectorAll("#elem-onFocus")].forEach(e=>{e.classList.add("dis-none")}),l.querySelector("textarea").value.length?(l.querySelector("#lines-start-box").classList.add("dis-none"),l.querySelector("textarea").style.background="none"):l.querySelector("#lines-start-box").classList.remove("dis-none"),I(c),J.slides||(J.slides=new V);const e=J.slides.addItem(l);J.dataBase.addObject(e)}e=l}}),document.addEventListener("mouseup",e=>{if(d&&(g(e),"mouseup"===d)){J.slides||(J.slides=new V);const e=J.slides.addItem(l);J.dataBase.addObject(e)}}),document.addEventListener("mouseup",e=>{S&&console.log(l)}),document.querySelector(".slides__film").addEventListener("click",e=>{const t=e.target.closest(".box-film-cont");t&&function(e){const t=document.querySelector(".slides__edit"),r=t.querySelector(`[data-id="${e}"]`);[...t.children].forEach(e=>{e.classList.add("dis-none")}),[...document.querySelector(".slides__film").querySelectorAll(".film-side-cont-background")].forEach(e=>{e.classList.remove("y-b")});const i=document.querySelector(".slides__film"),n=i.querySelectorAll("#svg963"),o=i.querySelector(`[data-id="${e}"]`).closest(".box-film-cont");o.querySelector(".film-side-cont-background").classList.add("y-b"),[...n].forEach(e=>{e.classList.remove("dis-none")}),r.classList.remove("dis-none"),F=o,c=e}(t.id)}),document.querySelector(".present__box").addEventListener("click",()=>{R()}),n.slidesEdit.addEventListener("fullscreenchange",e=>{document.fullscreenElement?document.querySelector(".overlay").classList.remove("dis-none"):function(){document.querySelector(".overlay").classList.add("dis-none");const e=document.querySelector(".slides__edit");[...e.querySelectorAll(".present-cont")].forEach(e=>{e.remove()}),D.classList.remove("dis-none"),e.append(D)}()}),[...document.querySelector(".overlay__cont").children].forEach(e=>{e.addEventListener("click",W)}),n.slidesFilm.addEventListener("contextmenu",e=>{!function(e){const t=e.target;if(t.closest(".box-film-cont")){e.preventDefault();const r=document.querySelector(".pop__menu");r.classList.remove("dis-none"),r.style.left=e.clientX+"px",r.style.top=e.clientY+"px",C=t.closest(".box-film-cont")}}(e)}),document.addEventListener("click",(function(e){e.target.closest(".box-film-cont")||document.querySelector(".pop__menu").classList.add("dis-none")})),n.cutButton.addEventListener("click",()=>{const e=K.delateBox();J.slides||(J.slides=new V);const t=J.slides.deleteItem(e.id);J.dataBase.addObject(t)})}}]);